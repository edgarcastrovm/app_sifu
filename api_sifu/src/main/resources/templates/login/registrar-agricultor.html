
<!doctype html>
<html lang="es"
	xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Registro de Agricultor</title>
<link rel="shortcut icon" type="image/png"
	th:href="@{/assets/images/logos/planta.png}" />
<link rel="stylesheet" th:href="@{/assets/css/styles.min.css}" />
</head>

<body>

	<div class="page-wrapper" id="main-wrapper" data-layout="vertical"
		data-navbarbg="skin6" data-sidebartype="full"
		data-sidebar-position="fixed" data-header-position="fixed">
		<div
			class="position-relative overflow-hidden text-bg-light min-vh-100 d-flex align-items-center justify-content-center">
			<div class="d-flex align-items-center justify-content-center w-100">
				<div class="row justify-content-center w-100">
					<div class="col-md-8 col-lg-6 col-xxl-3">
						<div class="card mb-0">
							<div class="card-body">
								<div class="contenedor1">
									<img th:src="@{/assets/images/logos/planta.png}" alt=""
										class="planta"/>
								</div>
								<p class="text-center">Registrate como Agricultor en SiFu</p>
								<form th:action="@{/site/registrarAgricultor}" method="post" th:object="${registro}">
									<div class="mb-3">
										<label for="nombre" class="form-label">Nombre</label>
										<input th:field="*{nombre}" type="text" class="form-control" id="nombre" placeholder="Ingrese nombre" required
											aria-describedby="textHelp">
									</div>
									<div class="mb-3">
										<label for="apellido" class="form-label">Apellido</label>
										<input th:field="*{apellido}" type="text" class="form-control" id="apellido" placeholder="Ingrese apellido" required
											aria-describedby="textHelp">
									</div>
									<div class="mb-3">
										<label for="correo" class="form-label">Correo Electrónico</label> 
											<input th:field="*{correo}" type="email" class="form-control" placeholder="Ingrese correo electrónico" required
											id="correo" aria-describedby="emailHelp">
									</div>
									<div class="mb-3">
										<label for="cedula" class="form-label">Cédula</label> 
											<input th:field="*{cedula}" type="text" class="form-control" placeholder="Ingrese cedula" required
											id="cedula" minlength="10" maxlength="10" pattern="^[0-9]{10}$" title="La cédula debe tener exactamente 10 dígitos numéricos" aria-describedby="textHelp">
									</div>
									<div class="mb-3">
										<label for="celular" class="form-label">Celular</label> 
											<input th:field="*{celular}" type="text" class="form-control" placeholder="Ingrese celular" required
											id="celular" minlength="10" maxlength="10" pattern="^[0-9]{10}$" title="El celular debe tener exactamente 10 dígitos numéricos" aria-describedby="textHelp">
									</div>
									
	
									<div class="mb-3">
									<label>Provincia:</label>
									    <select id="provincia" name="provincia" class="form-select" aria-label="Default select example" required>
									        <option value="">-- Seleccione --</option>
									        <th:block th:each="prov : ${provincias}">
									            <option th:value="${prov}" th:text="${prov}"></option>
									        </th:block>
									    </select>
								    </div>
								
								    <div class="mb-3">
									    <label>Cantón:</label>
									    <select id="canton" name="canton" class="form-select" aria-label="Default select example" required>
									        <option value="">-- Seleccione --</option>
									    </select>
									</div>
																	    
									<div class="mb-3">
										<label for="alias" class="form-label">Alias</label> 
										<div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
											<input th:field="*{alias}" type="text" class="form-control" placeholder="Ingrese alias o nombre de usuario" required
											id="alias" aria-describedby="textHelp">
											

									</div>
									<div class="mb-4">
										<label for="clave" class="form-label">Contraseña</label>
										<input th:field="*{clave}" type="password" class="form-control"
											id="clave" required>
									</div>
									<div class="d-flex align-items-center justify-content-center">
										<button type="submit" class="btn btn-primary">Crear Cuenta Agricultor</button>
									</div>
									<br>
									<div class="d-flex align-items-center justify-content-center">
										<p class="fs-4 mb-0 fw-bold">Ya tienes cuenta?</p>
										<a class="text-primary fw-bold ms-3"
											th:href="@{/site/login}">Inicia Sesión</a>
									</div>
									
    
								</form>
								
								<script th:inline="javascript">
								    let cantonesPorProvincia = /*[[${cantonesPorProvincia}]]*/ {};
								    let selectProvincia = document.getElementById('provincia');
								    let selectCanton = document.getElementById('canton');
								
								    selectProvincia.addEventListener('change', function() {
								        let provincia = this.value;
								        let cantones = cantonesPorProvincia[provincia] || [];
								
								        // Limpiar cantones anteriores
								        selectCanton.innerHTML = '<option value="">-- Seleccione --</option>';
								
								        cantones.forEach(function(canton) {
								            let opt = document.createElement('option');
								            opt.value = canton;
								            opt.innerHTML = canton;
								            selectCanton.appendChild(opt);
								        });
								    });
								</script>
								
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script th:src="@{/assets/libs/jquery/dist/jquery.min.js}"></script>
	<script
		th:src="@{/assets/libs/bootstrap/dist/js/bootstrap.bundle.min.js}"></script>
	<!-- solar icons -->
	<script
		src="https://cdn.jsdelivr.net/npm/iconify-icon@1.0.8/dist/iconify-icon.min.js"></script>
</body>

</html>